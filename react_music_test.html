<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reactåº”ç”¨éŸ³ä¹æ’­æ”¾é—®é¢˜è¯Šæ–­</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
        .test { background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px; }
        .result { padding: 10px; margin: 10px 0; border-radius: 4px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .warning { background: #fff3cd; color: #856404; }
        button { padding: 10px 15px; margin: 5px; border: none; border-radius: 4px; cursor: pointer; }
        .btn-primary { background: #007bff; color: white; }
        .btn-secondary { background: #6c757d; color: white; }
        .btn-success { background: #28a745; color: white; }
        .btn-danger { background: #dc3545; color: white; }
        audio { width: 100%; margin: 10px 0; }
        .console { background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 4px; font-family: monospace; height: 200px; overflow-y: auto; }
    </style>
</head>
<body>
    <h1>Reactåº”ç”¨éŸ³ä¹æ’­æ”¾é—®é¢˜è¯Šæ–­</h1>
    
    <div class="test">
        <h2>ğŸ” é—®é¢˜åˆ†æ</h2>
        <p>éŸ³ä¹æµ‹è¯•é¡µé¢å¯ä»¥æ­£å¸¸æ’­æ”¾ï¼Œä½†Reactåº”ç”¨é¡µé¢æ— æ³•æ’­æ”¾éŸ³ä¹ã€‚å¯èƒ½çš„åŸå› ï¼š</p>
        <ul>
            <li>Reactåº”ç”¨ä½¿ç”¨äº†é”™è¯¯çš„è·¯å¾„é…ç½®</li>
            <li>éŸ³ä¹æ’­æ”¾é€»è¾‘åœ¨Reactç»„ä»¶ä¸­å­˜åœ¨é—®é¢˜</li>
            <li>Reactåº”ç”¨æ„å»ºæ—¶è·¯å¾„é…ç½®é”™è¯¯</li>
            <li>æµè§ˆå™¨è‡ªåŠ¨æ’­æ”¾ç­–ç•¥é™åˆ¶</li>
        </ul>
    </div>

    <div class="test">
        <h2>ğŸµ éŸ³ä¹æ–‡ä»¶å¯è®¿é—®æ€§æµ‹è¯•</h2>
        <div id="music-status" class="result">æµ‹è¯•ä¸­...</div>
        <button class="btn-primary" onclick="testMusic('./music/11.mp3', 'ç›¸å¯¹è·¯å¾„')">æµ‹è¯•ç›¸å¯¹è·¯å¾„</button>
        <button class="btn-primary" onclick="testMusic('/gratitude-album/music/11.mp3', 'ç»å¯¹è·¯å¾„')">æµ‹è¯•ç»å¯¹è·¯å¾„</button>
        <button class="btn-primary" onclick="testMusic('https://lshhlove.github.io/gratitude-album/music/11.mp3', 'å®Œæ•´URL')">æµ‹è¯•å®Œæ•´URL</button>
    </div>

    <div class="test">
        <h2>ğŸ”Š ç›´æ¥æ’­æ”¾æµ‹è¯•</h2>
        <p>æµ‹è¯•ä¸åŒè·¯å¾„çš„éŸ³ä¹æ’­æ”¾ï¼š</p>
        
        <h3>ç›¸å¯¹è·¯å¾„ (./music/11.mp3)</h3>
        <audio id="audio-relative" controls>
            <source src="./music/11.mp3" type="audio/mpeg">
            æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘å…ƒç´ ã€‚
        </audio>
        <button class="btn-success" onclick="playAudio('audio-relative')">æ’­æ”¾ç›¸å¯¹è·¯å¾„</button>
        
        <h3>GitHub Pagesç»å¯¹è·¯å¾„ (/gratitude-album/music/11.mp3)</h3>
        <audio id="audio-absolute" controls>
            <source src="/gratitude-album/music/11.mp3" type="audio/mpeg">
            æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘å…ƒç´ ã€‚
        </audio>
        <button class="btn-success" onclick="playAudio('audio-absolute')">æ’­æ”¾ç»å¯¹è·¯å¾„</button>
        
        <h3>å®Œæ•´URL (https://lshhlove.github.io/gratitude-album/music/11.mp3)</h3>
        <audio id="audio-full" controls>
            <source src="https://lshhlove.github.io/gratitude-album/music/11.mp3" type="audio/mpeg">
            æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘å…ƒç´ ã€‚
        </audio>
        <button class="btn-success" onclick="playAudio('audio-full')">æ’­æ”¾å®Œæ•´URL</button>
    </div>

    <div class="test">
        <h2>ğŸ¯ Reactåº”ç”¨è·¯å¾„æ¨¡æ‹Ÿæµ‹è¯•</h2>
        <p>æ¨¡æ‹ŸReactåº”ç”¨ä¸­å¯èƒ½ä½¿ç”¨çš„è·¯å¾„ï¼š</p>
        
        <div id="react-path-test">
            <button class="btn-secondary" onclick="testReactPath('/music/11.mp3', 'Reactå¯èƒ½ä½¿ç”¨çš„ç»å¯¹è·¯å¾„')">æµ‹è¯• /music/11.mp3</button>
            <button class="btn-secondary" onclick="testReactPath('music/11.mp3', 'Reactå¯èƒ½ä½¿ç”¨çš„ç›¸å¯¹è·¯å¾„')">æµ‹è¯• music/11.mp3</button>
            <button class="btn-secondary" onclick="testReactPath('../music/11.mp3', 'Reactå¯èƒ½ä½¿ç”¨çš„ä¸Šçº§è·¯å¾„')">æµ‹è¯• ../music/11.mp3</button>
        </div>
        
        <div id="react-path-result" class="result"></div>
    </div>

    <div class="test">
        <h2>ğŸ”§ JavaScriptåŠ¨æ€æ’­æ”¾æµ‹è¯•</h2>
        <p>æ¨¡æ‹ŸReactåº”ç”¨ä¸­çš„åŠ¨æ€æ’­æ”¾é€»è¾‘ï¼š</p>
        
        <audio id="dynamic-audio" controls></audio>
        <button class="btn-primary" onclick="playDynamicAudio('./music/11.mp3')">åŠ¨æ€æ’­æ”¾ç›¸å¯¹è·¯å¾„</button>
        <button class="btn-primary" onclick="playDynamicAudio('/gratitude-album/music/11.mp3')">åŠ¨æ€æ’­æ”¾ç»å¯¹è·¯å¾„</button>
        <button class="btn-primary" onclick="playDynamicAudio('https://lshhlove.github.io/gratitude-album/music/11.mp3')">åŠ¨æ€æ’­æ”¾å®Œæ•´URL</button>
        
        <div id="dynamic-status" class="result"></div>
    </div>

    <div class="test">
        <h2>ğŸ“‹ æ§åˆ¶å°æ—¥å¿—</h2>
        <div class="console" id="console-log"></div>
        <button class="btn-danger" onclick="clearConsole()">æ¸…ç©ºæ—¥å¿—</button>
    </div>

    <div class="test">
        <h2>ğŸ’¡ è§£å†³æ–¹æ¡ˆå»ºè®®</h2>
        <p>åŸºäºæµ‹è¯•ç»“æœï¼Œå»ºè®®ï¼š</p>
        <ol>
            <li>æ£€æŸ¥Reactåº”ç”¨çš„æºä»£ç ï¼Œç¡®è®¤éŸ³ä¹æ’­æ”¾ç»„ä»¶çš„è·¯å¾„é…ç½®</li>
            <li>ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„ç›¸å¯¹è·¯å¾„ <code>./music/11.mp3</code></li>
            <li>æˆ–è€…ä½¿ç”¨GitHub Pagesç»å¯¹è·¯å¾„ <code>/gratitude-album/music/11.mp3</code></li>
            <li>æ£€æŸ¥éŸ³ä¹æ’­æ”¾é€»è¾‘æ˜¯å¦æ­£ç¡®å¤„ç†äº†è‡ªåŠ¨æ’­æ”¾ç­–ç•¥</li>
            <li>å¯èƒ½éœ€è¦ç”¨æˆ·äº¤äº’åæ‰èƒ½è‡ªåŠ¨æ’­æ”¾éŸ³ä¹</li>
        </ol>
    </div>

    <script>
        let consoleLog = document.getElementById('console-log');
        
        function log(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.innerHTML = `<span style="color: #6a9955;">[${timestamp}]</span> <span style="color: ${getColor(type)}">${message}</span>`;
            consoleLog.appendChild(logEntry);
            consoleLog.scrollTop = consoleLog.scrollHeight;
            console.log(message);
        }
        
        function getColor(type) {
            switch(type) {
                case 'error': return '#f44747';
                case 'warning': return '#ffa500';
                case 'success': return '#4ec9b0';
                default: return '#d4d4d4';
            }
        }
        
        async function testMusic(url, type) {
            const statusDiv = document.getElementById('music-status');
            log(`æµ‹è¯•éŸ³ä¹æ–‡ä»¶: ${url} (${type})`, 'info');
            
            try {
                const response = await fetch(url, { method: 'HEAD' });
                if (response.ok) {
                    statusDiv.innerHTML = `<div class="success">âœ… ${type} å¯è®¿é—® - çŠ¶æ€ç : ${response.status}</div>`;
                    log(`âœ… ${type} å¯è®¿é—® - çŠ¶æ€ç : ${response.status}`, 'success');
                } else {
                    statusDiv.innerHTML = `<div class="error">âŒ ${type} ä¸å¯è®¿é—® - çŠ¶æ€ç : ${response.status}</div>`;
                    log(`âŒ ${type} ä¸å¯è®¿é—® - çŠ¶æ€ç : ${response.status}`, 'error');
                }
            } catch (error) {
                statusDiv.innerHTML = `<div class="error">âŒ ${type} è®¿é—®å¤±è´¥ - ${error.message}</div>`;
                log(`âŒ ${type} è®¿é—®å¤±è´¥ - ${error.message}`, 'error');
            }
        }
        
        function playAudio(audioId) {
            const audio = document.getElementById(audioId);
            log(`æ’­æ”¾éŸ³é¢‘: ${audioId}`, 'info');
            audio.play().catch(error => {
                log(`æ’­æ”¾å¤±è´¥: ${error.message}`, 'error');
            });
        }
        
        async function testReactPath(path, description) {
            const resultDiv = document.getElementById('react-path-result');
            log(`æµ‹è¯•Reactè·¯å¾„: ${path} (${description})`, 'info');
            
            try {
                const response = await fetch(path, { method: 'HEAD' });
                if (response.ok) {
                    resultDiv.innerHTML = `<div class="success">âœ… ${description} å¯è®¿é—® - çŠ¶æ€ç : ${response.status}</div>`;
                    log(`âœ… ${description} å¯è®¿é—® - çŠ¶æ€ç : ${response.status}`, 'success');
                } else {
                    resultDiv.innerHTML = `<div class="error">âŒ ${description} ä¸å¯è®¿é—® - çŠ¶æ€ç : ${response.status}</div>`;
                    log(`âŒ ${description} ä¸å¯è®¿é—® - çŠ¶æ€ç : ${response.status}`, 'error');
                }
            } catch (error) {
                resultDiv.innerHTML = `<div class="error">âŒ ${description} è®¿é—®å¤±è´¥ - ${error.message}</div>`;
                log(`âŒ ${description} è®¿é—®å¤±è´¥ - ${error.message}`, 'error');
            }
        }
        
        function playDynamicAudio(url) {
            const audio = document.getElementById('dynamic-audio');
            const statusDiv = document.getElementById('dynamic-status');
            
            log(`åŠ¨æ€æ’­æ”¾: ${url}`, 'info');
            
            audio.src = url;
            audio.load();
            
            audio.play().then(() => {
                statusDiv.innerHTML = `<div class="success">âœ… åŠ¨æ€æ’­æ”¾æˆåŠŸ: ${url}</div>`;
                log(`âœ… åŠ¨æ€æ’­æ”¾æˆåŠŸ: ${url}`, 'success');
            }).catch(error => {
                statusDiv.innerHTML = `<div class="error">âŒ åŠ¨æ€æ’­æ”¾å¤±è´¥: ${error.message}</div>`;
                log(`âŒ åŠ¨æ€æ’­æ”¾å¤±è´¥: ${error.message}`, 'error');
                
                // å¦‚æœæ˜¯è‡ªåŠ¨æ’­æ”¾ç­–ç•¥é—®é¢˜ï¼Œæç¤ºç”¨æˆ·æ‰‹åŠ¨æ’­æ”¾
                if (error.name === 'NotAllowedError') {
                    log(`âš ï¸ è‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢ï¼Œéœ€è¦ç”¨æˆ·äº¤äº’`, 'warning');
                    statusDiv.innerHTML += `<div class="warning">âš ï¸ è‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢ï¼Œè¯·ç‚¹å‡»éŸ³é¢‘æ§ä»¶æ‰‹åŠ¨æ’­æ”¾</div>`;
                }
            });
        }
        
        function clearConsole() {
            consoleLog.innerHTML = '';
            log('æ§åˆ¶å°å·²æ¸…ç©º', 'info');
        }
        
        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æµ‹è¯•
        window.addEventListener('load', function() {
            log('é¡µé¢åŠ è½½å®Œæˆï¼Œå¼€å§‹è‡ªåŠ¨æµ‹è¯•...', 'info');
            
            // å»¶è¿Ÿæ‰§è¡Œæµ‹è¯•ï¼Œç¡®ä¿é¡µé¢å®Œå…¨åŠ è½½
            setTimeout(() => {
                testMusic('./music/11.mp3', 'ç›¸å¯¹è·¯å¾„');
            }, 500);
            
            setTimeout(() => {
                testMusic('/gratitude-album/music/11.mp3', 'ç»å¯¹è·¯å¾„');
            }, 1000);
            
            setTimeout(() => {
                testMusic('https://lshhlove.github.io/gratitude-album/music/11.mp3', 'å®Œæ•´URL');
            }, 1500);
        });
    </script>
</body>
</html>