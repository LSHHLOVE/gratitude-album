<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>路径修复测试</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test { margin: 20px 0; padding: 15px; border: 1px solid #ccc; border-radius: 5px; }
        .success { background-color: #d4edda; border-color: #c3e6cb; }
        .error { background-color: #f8d7da; border-color: #f5c6cb; }
        img { max-width: 200px; margin: 10px; }
    </style>
</head>
<body>
    <h1>React应用路径修复测试</h1>
    
    <div class="test">
        <h2>问题分析</h2>
        <p>根据测试，音乐和图片文件在GitHub Pages上都可以正常访问，但React应用可能使用了错误的路径配置。</p>
        <p>可能的问题：</p>
        <ul>
            <li>React应用在JavaScript代码中使用了绝对路径 <code>/images/</code> 而不是相对路径 <code>./images/</code></li>
            <li>构建配置中的base路径设置不正确</li>
            <li>JavaScript代码中的路径硬编码</li>
        </ul>
    </div>

    <div class="test">
        <h2>解决方案：创建修复版本</h2>
        
        <h3>方法1：使用相对路径的HTML页面</h3>
        <div id="relative-test">
            <h4>图片测试（相对路径）</h4>
            <img src="./images/1.jpg" alt="相对路径图片" width="200" onload="log('相对路径图片加载成功')" onerror="log('相对路径图片加载失败')">
            
            <h4>音乐测试（相对路径）</h4>
            <audio controls>
                <source src="./music/11.mp3" type="audio/mpeg">
                您的浏览器不支持音频元素。
            </audio>
        </div>

        <h3>方法2：使用GitHub Pages绝对路径</h3>
        <div id="absolute-test">
            <h4>图片测试（绝对路径）</h4>
            <img src="/gratitude-album/images/1.jpg" alt="绝对路径图片" width="200" onload="log('绝对路径图片加载成功')" onerror="log('绝对路径图片加载失败')">
            
            <h4>音乐测试（绝对路径）</h4>
            <audio controls>
                <source src="/gratitude-album/music/11.mp3" type="audio/mpeg">
                您的浏览器不支持音频元素。
            </audio>
        </div>

        <h3>方法3：使用完整URL</h3>
        <div id="url-test">
            <h4>图片测试（完整URL）</h4>
            <img src="https://lshhlove.github.io/gratitude-album/images/1.jpg" alt="完整URL图片" width="200" onload="log('完整URL图片加载成功')" onerror="log('完整URL图片加载失败')">
            
            <h4>音乐测试（完整URL）</h4>
            <audio controls>
                <source src="https://lshhlove.github.io/gratitude-album/music/11.mp3" type="audio/mpeg">
                您的浏览器不支持音频元素。
            </audio>
        </div>
    </div>

    <div class="test">
        <h2>控制台输出</h2>
        <div id="console-output" style="background: #f8f9fa; padding: 10px; border-radius: 5px; min-height: 100px; font-family: monospace; white-space: pre-wrap;"></div>
    </div>

    <div class="test">
        <h2>修复建议</h2>
        <p>如果React应用无法正常工作，建议：</p>
        <ol>
            <li>检查React应用的构建配置，确保base路径设置为 <code>/gratitude-album/</code></li>
            <li>在JavaScript代码中使用相对路径 <code>./images/</code> 和 <code>./music/</code></li>
            <li>或者使用环境变量来动态设置资源路径</li>
            <li>考虑重新构建应用，确保所有资源路径正确</li>
        </ol>
    </div>

    <script>
        function log(message) {
            const output = document.getElementById('console-output');
            output.textContent += new Date().toLocaleTimeString() + ': ' + message + '\n';
            console.log(message);
        }

        // 页面加载时自动测试
        window.addEventListener('load', () => {
            log('修复测试页面已加载');
            log('测试不同路径的资源加载情况...');
        });
    </script>
</body>
</html>